<!doctype html><html lang=en><head><meta charset=utf-8><link rel=preload href=https://ttntm.github.io/css/page.css as=style><link rel=preload href=https://ttntm.github.io/js/particles.min.js as=script><link rel=preconnect href=https://use.fontawesome.com/releases/v5.1.0/css/all.css><link rel=preconnect href=https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js><link rel=preconnect href=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js><link rel=preconnect href=https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js><link rel=preload href=https://fonts.gstatic.com/s/nunito/v9/XRXV3I6Li01BKofINeaB.woff2 as=font crossorigin=anonymous><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content=ttntm><meta name=robots content=index,follow><meta name=description content="An article about building a portfolio filter capable of multiselect with jQuery. Also includes a working CodePen example."><meta name=twitter:card content=summary><meta name=twitter:site content=@thet0m><meta name=twitter:creator content=@thet0m><meta name=twitter:title content="jQuery Multiselect Filter"><meta name=twitter:description content="An article about building a portfolio filter capable of multiselect with jQuery. Also includes a working CodePen example."><meta name=twitter:image content=https://ttntm.github.io/img/blog/code.jpg><base href=https://ttntm.github.io><title>jQuery Multiselect Filter | ttntm</title><link rel=apple-touch-icon sizes=180x180 href=https://ttntm.github.io/img/favicon/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=https://ttntm.github.io/img/favicon/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=https://ttntm.github.io/img/favicon/favicon-16x16.png><link rel=mask-icon href=https://ttntm.github.io/img/favicon/safari-pinned-tab.svg color=#5bbad5><meta name=msapplication-TileColor content=#497285><meta name=theme-color content=#fff><meta name=google-site-verification content=M775CC_PpUnedbi7UFIStPlV7NF-yOq_PesgginVc2I><link rel=stylesheet href=https://ttntm.github.io/css/page.css><!--[if lt IE 9]><script src=https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js></script><script src=https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js></script><![endif]--><style>@font-face{font-family:nunito;font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/nunito/v9/XRXV3I6Li01BKofINeaB.woff2) format('woff2')}body{font-family:nunito,sans-serif}</style><script src=https://ttntm.github.io/js/particles.min.js></script></head><body><header class="container px-0"><a id=top></a><nav class="navbar navbar-expand-lg navbar-light"><a class="w-50 navbar-brand" href=https://ttntm.github.io><strong class=text-wide>ttntm</strong></a>
<button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarMain aria-controls=navbarMain aria-expanded=false aria-label="Toggle navigation"><span class=navbar-toggler-icon></span></button><div class="w-50 collapse navbar-collapse justify-content-start" id=navbarMain><div class=navbar-nav><a class="nav-link underline" href=https://ttntm.github.io/blog><span class="text-wide px-3 mx-3">Blog</span></a>
<a class="nav-link underline" href=https://ttntm.github.io/about><span class="text-wide px-3 mx-3">About</span></a>
<a class="nav-link underline" href=https://ttntm.github.io/contact><span class="text-wide px-3 mx-3">Contact</span></a></div></div><a class="text-blue d-none d-lg-block ml-3" href=https://twitter.com/thet0m title=Twitter rel=noopener target=_blank><i class="fab fa-twitter"></i></a><a class="text-blue d-none d-lg-block ml-3" href=https://github.com/ttntm title=GitHub rel=noopener target=_blank><i class="fab fa-github"></i></a><a class="text-blue d-none d-lg-block ml-3" href=https://codepen.io/ttntm/ title=CodePen rel=noopener target=_blank><i class="fab fa-codepen"></i></a></nav></header><main><header class="w-100 header-blue" style=min-height:200px><div class="container d-flex flex-row" style=min-height:200px><div class="mx-auto my-auto align-self-center text-center py-4"><h1 class="text-superwide text-tertiary py-1 my-2">jQuery Multiselect Filter</h1><p class="py-1 my-2">Published 12.12.2018, 7 minute read</p><p class="lead py-1 my-2">An article about building a portfolio filter capable of multiselect with jQuery. Also includes a working CodePen example.</p></div></div></header><div class=container><div class="row mt-3"><div class="col pt-3 mkd"><h2 id=filter-requirements>Filter requirements</h2><p>I spent quite some time working on a friend&rsquo;s portfolio website recently. She wanted to get rid of some sort of hosted service, moving to her own website.</p><p>Showcasing her work was clearly the focus of the site, so it also needed to provide some decent filtering of the portfolio items.</p><p>The site itself was supposed to be built with Hugo that already provides a ton of functionality in terms of taxonomy and content metadata. That toolset could have worked for someone else, but in this case, multiselect was another requirement for the filters and all those extra list pages for the respective metadata items were unwanted.</p><p>So, I ended up building them myself, based on content metadata (Hugo: front matter) and jQuery.</p><p><em>All CSS is going to be missing here, but it&rsquo;s included in the CodePen example.</em></p><h3 id=content-setup>Content setup</h3><p>In order to make the portfolio manageable, the site was set up using Hugo&rsquo;s so called &ldquo;Page Bundles&rdquo; (
<a class=lnk-underline href=https://gohugo.io/content-management/page-bundles/ title="Hugo Docs" target=_blank rel=noopener>Hugo Docs&nbsp;<i class="fas fa-external-link-alt fa-xs"></i></a>), lots of shortcodes and customized metadata in each portfolio item&rsquo;s front matter:</p><pre><code>---
title: Example Case             
client: Example Corp.
team: Homer Simpson (art director), Peter Griffin (designer), Burt Reynolds (badass)
works: 
- work: branding
- work: identity
resources:
- name: hero
  src: hero.png
- name: overview
  src: overview.png
- name: detail
  src: detail.png
- name: intro
  src: intro.md
- name: description1
  src: description1.md
- name: description2
  src: description2.md
---
</code></pre><p>As shown above, each portfolio item gets categorized with <code>work</code> elements. This categorization will serve as the backbone for the filter. Due to the requirement of the filter providing multiselect functionality, the front matter section &ldquo;works&rdquo; also has to provide an array that can hold multiple values (= portfolio item categories).</p><p>Due to the portfolio items being page bundles, the front matter above also shows a section <code>resources</code>. This list basically contains all the relevant bits of content the page shall have access to. For our filter, the image resource called <code>hero</code> will also be necessary as the list page of all portfolio items will be displayed as an image grid.</p><h3 id=portfolio-layout>Portfolio layout</h3><p>In order to display our portfolio items, we&rsquo;re going to let Hugo create a list page of all the relevant posts, displaying them as an image grid with the filters on top.</p><p>The page template starts with the filters below the standard page header:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>        <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;row&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;col&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>id</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;filters&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;d-flex flex-row flex-wrap justify-content-between mb-5&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
                <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;works-filter flex-grow-1 w-sm-100 my-2&#34;</span> <span style=color:#c4a000>data-filter</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;catA&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Category A<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;</span>
                <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;works-filter flex-grow-1 w-sm-100 my-2&#34;</span> <span style=color:#c4a000>data-filter</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;catB&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Category B<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;</span>
                <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;works-filter flex-grow-1 w-sm-100 my-2&#34;</span> <span style=color:#c4a000>data-filter</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;catC&#34;</span><span style=color:#000;font-weight:700>&gt;</span>Category C<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;</span>
                <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>span</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;text-right works-filter flex-grow-1 w-sm-100 my-2 showAll&#34;</span> <span style=color:#c4a000>data-filter</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;all&#34;</span><span style=color:#000;font-weight:700>&gt;</span>All Projects<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>span</span><span style=color:#000;font-weight:700>&gt;</span>
            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
        <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span></code></pre></div><p>All filters are equipped with an HTML data-* attribute (
<a class=lnk-underline href=https://www.w3schools.com/tags/att_global_data.asp title=w3schools target=_blank rel=noopener>w3schools&nbsp;<i class="fas fa-external-link-alt fa-xs"></i></a>), <code>data-filter</code>, that will provide the filtering criteria to our jQuery functions.</p><p>The actual portfolio items are displayed below the filters as a 2-column grid:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>        <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;row&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
            {{ range .Pages }}
                <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;col-sm-12 col-md-6 gap-y workItem show-workItem {{range .Params.works }}{{ .work | urlize }} {{ end }}&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
                    {{ partial &#34;img+overlay.html&#34; . }}
                <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
            {{ end }}
        <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span></code></pre></div><p>Before having a look at the process of obtaining the <code>hero</code> resource mentioned above, it&rsquo;s important to mention that <code>{{range .Params.works }}</code> pulls all <code>work</code> elements, essentially providing their value as an additional class of each portfolio item&rsquo;s parent <code>div</code>. Our filter is going to access this class list to determine which elements to show.</p><p>The images, each portfolio item&rsquo;s respective <code>hero</code> resource, are rendered by the following bit of code:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>        {{ $scImg := .Resources.GetMatch &#34;hero&#34; }}
        <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;img-container m-0 p-0&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>img</span> <span style=color:#c4a000>src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;/img/loading.svg&#34;</span> <span style=color:#c4a000>data-src</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;{{ $scImg.RelPermalink }}&#34;</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;img-lazy img-center img-fluid img-showcase&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
            <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>div</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;overlay d-flex flex-column align-items-center justify-content-center&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
                <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>h2</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;&#34;</span><span style=color:#000;font-weight:700>&gt;&lt;</span><span style=color:#204a87;font-weight:700>a</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;link-overlay&#34;</span> <span style=color:#c4a000>href</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;{{ .Permalink }}&#34;</span> <span style=color:#c4a000>title</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;{{ .Title }}&#34;</span><span style=color:#000;font-weight:700>&gt;</span>{{ .Title }}<span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>a</span><span style=color:#000;font-weight:700>&gt;&lt;/</span><span style=color:#204a87;font-weight:700>h2</span><span style=color:#000;font-weight:700>&gt;</span>
                <span style=color:#000;font-weight:700>&lt;</span><span style=color:#204a87;font-weight:700>p</span> <span style=color:#c4a000>class</span><span style=color:#ce5c00;font-weight:700>=</span><span style=color:#4e9a06>&#34;d-block small&#34;</span><span style=color:#000;font-weight:700>&gt;</span>
                    {{range $index, $tag := .Params.works }}
                        {{- if eq $index 0 -}}
                            {{ .work }}
                        {{- else -}}
                            , {{ .work }}
                        {{- end -}}
                    {{ end }}
                <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>p</span><span style=color:#000;font-weight:700>&gt;</span>
            <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span>
        <span style=color:#000;font-weight:700>&lt;/</span><span style=color:#204a87;font-weight:700>div</span><span style=color:#000;font-weight:700>&gt;</span></code></pre></div><p>It&rsquo;s a rather simple procedure, <code>.Resources.GetMatch &quot;hero&quot;</code> obtains each item&rsquo;s <code>hero</code> resource and <code>{{ $scImg.RelPermalink }}</code> makes sure the <code>img</code> element&rsquo;s <code>src</code> tag is filled with its path correctly.</p><p>In addition to that, the overlay displays each item&rsquo;s <code>{{ .Title }}</code> and ranges through <code>.Params.works</code> once again, displaying the respective categories.</p><p>This code has been put into a <code>partial</code> called <code>img+overlay.html</code> for convenience reasons, as the same component is used for other page templates as well.</p><p>If you&rsquo;re following this example, then you should have a page displaying filters followed by all portfolio items in an image grid by now. Time to move on to some jQuery then.</p><h3 id=jquery>jQuery</h3><p>A short remark before we get started: as shown in the CodePen example, this code will work regardless of how your portfolio page is built, as long as the portfolio items have classes assigned to them that correspond to what&rsquo;s set as <code>data-filter</code>. There&rsquo;s no Hugo functionality and/or dependencies in there.</p><p>We&rsquo;re going to store our filter functionality in jQuery&rsquo;s <code>$(document).ready(function(){</code>, defining the necessary variables first:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>        <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87>document</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>ready</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(){</span>

            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>$filters</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;.works-filter&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// find the filters
</span><span style=color:#8f5902;font-style:italic></span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>$works</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;.workItem&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// find the portfolio items
</span><span style=color:#8f5902;font-style:italic></span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>showAll</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;.showAll&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// identify the &#34;show all&#34; button
</span><span style=color:#8f5902;font-style:italic></span>
            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>cFilter</span><span style=color:#000;font-weight:700>,</span> <span style=color:#000>cFilterData</span><span style=color:#000;font-weight:700>;</span> <span style=color:#8f5902;font-style:italic>// declare a variable to store the filter and one for the data to filter by
</span><span style=color:#8f5902;font-style:italic></span>            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>filtersActive</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[];</span> <span style=color:#8f5902;font-style:italic>// an array to store the active filters
</span><span style=color:#8f5902;font-style:italic></span></code></pre></div><p>The array called <code>filtersActive</code> is the key piece for providing multiselect functionality, storing the active filters until they&rsquo;re deselected again, <code>All Projects</code> gets clicked or the page gets reloaded.</p><p>Next, we&rsquo;re going to handle the <code>click</code> event for our filters:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>        <span style=color:#000>$filters</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>click</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(){</span> <span style=color:#8f5902;font-style:italic>// if filters are clicked
</span><span style=color:#8f5902;font-style:italic></span>            <span style=color:#000>cFilter</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>);</span>
            <span style=color:#000>cFilterData</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>cFilter</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>attr</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;data-filter&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>// read filter value
</span><span style=color:#8f5902;font-style:italic></span>
            <span style=color:#000>highlightFilter</span><span style=color:#000;font-weight:700>();</span>        
            <span style=color:#000>applyFilter</span><span style=color:#000;font-weight:700>();</span>       
        <span style=color:#000;font-weight:700>});</span>
</code></pre></div><p>The <code>click</code> event checks for the value of our attribute <code>data-filter</code> and then proceeds to execute 2 functions, <code>highlightFilter();</code> and <code>applyFilter();</code>. These two handle the process of highlighting the active filter and displaying/hiding the portfolio items (via the class called <code>show-workItem</code>) respectively.</p><p><code>highlightFilter();</code> looks like this:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>        <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>highlightFilter</span> <span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>filterClass</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#4e9a06>&#39;works-filter-active&#39;</span><span style=color:#000;font-weight:700>;</span>
            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>cFilter</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>hasClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>filterClass</span><span style=color:#000;font-weight:700>))</span> <span style=color:#000;font-weight:700>{</span>
                <span style=color:#000>cFilter</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>removeClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>filterClass</span><span style=color:#000;font-weight:700>);</span>
                <span style=color:#000>removeActiveFilter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cFilterData</span><span style=color:#000;font-weight:700>);</span>
            <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>cFilter</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>hasClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;showAll&#39;</span><span style=color:#000;font-weight:700>))</span> <span style=color:#000;font-weight:700>{</span>
                <span style=color:#000>$filters</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>removeClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>filterClass</span><span style=color:#000;font-weight:700>);</span>
                <span style=color:#000>filtersActive</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000;font-weight:700>[];</span> <span style=color:#8f5902;font-style:italic>// clear the array
</span><span style=color:#8f5902;font-style:italic></span>                <span style=color:#000>cFilter</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>filterClass</span><span style=color:#000;font-weight:700>);</span>
            <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>{</span>
                <span style=color:#000>showAll</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>removeClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>filterClass</span><span style=color:#000;font-weight:700>);</span>
                <span style=color:#000>cFilter</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>filterClass</span><span style=color:#000;font-weight:700>);</span>
                <span style=color:#000>filtersActive</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>push</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>cFilterData</span><span style=color:#000;font-weight:700>);</span>
            <span style=color:#000;font-weight:700>}</span>
        <span style=color:#000;font-weight:700>}</span>
</code></pre></div><p>This function controls/toggles the <code>works-filter-active</code> class and does the following:</p><ol><li>check if the item that triggered the <code>click</code> event is an active filter: if yes, remove its active state both visually and via <code>removeActiveFilter();</code></li><li>check if <code>All Projects</code> was clicked: if yes, clear the array of active filters and mark <code>All Projects</code> as active filter</li><li>if the item that triggered the <code>click</code> event is a new/additional filter, it will be marked as active and added to the <code>filtersActive</code> array</li></ol><p>Now, having determined the state of our filters and most importantly the <code>filtersActive</code> array, our code proceeds to the function called <code>applyFilter();</code> that takes care of showing the right items based on the active filters:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>        <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>applyFilter</span><span style=color:#000;font-weight:700>()</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#8f5902;font-style:italic>// go through all portfolio items and hide/show as necessary
</span><span style=color:#8f5902;font-style:italic></span>            <span style=color:#000>$works</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>each</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>function</span><span style=color:#000;font-weight:700>(){</span>
                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>i</span><span style=color:#000;font-weight:700>;</span>
                <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>classes</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>attr</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;class&#39;</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>split</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39; &#39;</span><span style=color:#000;font-weight:700>);</span>
                <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>cFilter</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>hasClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;showAll&#39;</span><span style=color:#000;font-weight:700>)</span> <span style=color:#ce5c00;font-weight:700>||</span> <span style=color:#000>filtersActive</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>length</span> <span style=color:#ce5c00;font-weight:700>==</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span> <span style=color:#8f5902;font-style:italic>// makes sure we catch the array when its empty and revert to the default of showing all items
</span><span style=color:#8f5902;font-style:italic></span>                    <span style=color:#000>$works</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>addClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;show-workItem&#39;</span><span style=color:#000;font-weight:700>);</span> <span style=color:#8f5902;font-style:italic>//show them all
</span><span style=color:#8f5902;font-style:italic></span>                <span style=color:#000;font-weight:700>}</span> <span style=color:#204a87;font-weight:700>else</span> <span style=color:#000;font-weight:700>{</span>
                    <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>removeClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;show-workItem&#39;</span><span style=color:#000;font-weight:700>);</span>
                    <span style=color:#204a87;font-weight:700>for</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>i</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#0000cf;font-weight:700>0</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000>i</span> <span style=color:#ce5c00;font-weight:700>&lt;</span> <span style=color:#000>classes</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>length</span><span style=color:#000;font-weight:700>;</span> <span style=color:#000>i</span><span style=color:#ce5c00;font-weight:700>++</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
                        <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>filtersActive</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indexOf</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>classes</span><span style=color:#000;font-weight:700>[</span><span style=color:#000>i</span><span style=color:#000;font-weight:700>])</span> <span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
                            <span style=color:#000>$</span><span style=color:#000;font-weight:700>(</span><span style=color:#204a87;font-weight:700>this</span><span style=color:#000;font-weight:700>).</span><span style=color:#000>addClass</span><span style=color:#000;font-weight:700>(</span><span style=color:#4e9a06>&#39;show-workItem&#39;</span><span style=color:#000;font-weight:700>);</span>
                        <span style=color:#000;font-weight:700>}</span>
                    <span style=color:#000;font-weight:700>}</span>
                <span style=color:#000;font-weight:700>}</span> 
            <span style=color:#000;font-weight:700>});</span>
        <span style=color:#000;font-weight:700>}</span>
</code></pre></div><p><code>applyFilter();</code> goes through <code>$works</code>, all elements that have the class <code>.workItem</code> assigned to them. It then loops through <code>classes</code> (all classes of each respective <code>workItem</code>), comparing them to what&rsquo;s currently stored inside the <code>filtersActive</code> array. This procedure is basically the &ldquo;heart&rdquo; of the filter.</p><p>When the array is empty or <code>All Projects</code> becomes the active filter, the function shows all portfolio items.</p><p>There&rsquo;s still another function that was mentioned above and that&rsquo;s called <code>removeActiveFilter();</code>. This one takes care of removing filters from the <code>filtersActive</code> array when they&rsquo;re deselected:</p><div class=highlight><pre style=background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js>        <span style=color:#204a87;font-weight:700>function</span> <span style=color:#000>removeActiveFilter</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>item</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
            <span style=color:#204a87;font-weight:700>var</span> <span style=color:#000>index</span> <span style=color:#ce5c00;font-weight:700>=</span> <span style=color:#000>filtersActive</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>indexOf</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>item</span><span style=color:#000;font-weight:700>);</span>
            <span style=color:#204a87;font-weight:700>if</span> <span style=color:#000;font-weight:700>(</span><span style=color:#000>index</span> <span style=color:#ce5c00;font-weight:700>&gt;</span> <span style=color:#ce5c00;font-weight:700>-</span><span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>)</span> <span style=color:#000;font-weight:700>{</span>
                <span style=color:#000>filtersActive</span><span style=color:#000;font-weight:700>.</span><span style=color:#000>splice</span><span style=color:#000;font-weight:700>(</span><span style=color:#000>index</span><span style=color:#000;font-weight:700>,</span> <span style=color:#0000cf;font-weight:700>1</span><span style=color:#000;font-weight:700>);</span>
            <span style=color:#000;font-weight:700>}</span>
        <span style=color:#000;font-weight:700>}</span>
</code></pre></div><h3 id=conclusion>Conclusion</h3><p>Aside from ticking the box in front of a technical requirement on a list and making a friend happy, this filter was also an interesting challenge to myself. I couldn&rsquo;t find any useful instructions or out of the box solutions before starting doing it on my own which might have been due to wrong Google keywords or just bad luck. However, it taught me that despite of more than 10 years of ignoring jQuery and JavaScript, it&rsquo;s slowly coming back.</p><p>Anyway, I hope this can prove useful to someone looking for something similar. I created a CodePen Demo that can be found here:
<a class=lnk-underline href=https://codepen.io/ttntm/full/zyxGXe title=CodePen target=_blank rel=noopener>CodePen&nbsp;<i class="fas fa-external-link-alt fa-xs"></i></a></p></div></div><div class="row mt-3 mb-3 blog-meta"><div class="col-sm-12 col-md mt-3 mb-3 text-left"><ul class="list-inline my-0"><li class=list-inline-item><h5 class=my-0>Share this Article:</h5></li><li class=list-inline-item><a href="https://twitter.com/intent/tweet?text=jQuery%20Multiselect%20Filter&amp;url=https%3a%2f%2fttntm.github.io%2fblog%2fjquery-multiselect-filter%2f" title="Share on Twitter" rel=noopener target=_blank><i class="fab fa-twitter-square fa-lg"></i></a></li><li class=list-inline-item><a href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fttntm.github.io%2fblog%2fjquery-multiselect-filter%2f&amp;title=jQuery%20Multiselect%20Filter" title="Share on LinkedIn" rel=noopener target=_blank><i class="fab fa-linkedin fa-lg"></i></a></li><li class=list-inline-item><a href="https://plus.google.com/share?url=https%3a%2f%2fttntm.github.io%2fblog%2fjquery-multiselect-filter%2f" title="Share on Google+" aria-label="Share on Google+" rel=noopener target=_blank><i class="fab fa-google-plus-square fa-lg"></i></a></li><li class=list-inline-item><a href="https://www.facebook.com/sharer/sharer.php?u=https%3a%2f%2fttntm.github.io%2fblog%2fjquery-multiselect-filter%2f" title="Share on Facebook" aria-label="Share on Facebook" rel=noopener target=_blank><i class="fab fa-facebook fa-lg"></i></a></li><li class=list-inline-item><a href="mailto:?subject=jQuery%20Multiselect%20Filter&amp;body=https%3a%2f%2fttntm.github.io%2fblog%2fjquery-multiselect-filter%2f" title="Send as Email" data-proofer-ignore><i class="fas fa-envelope-square fa-lg"></i></a></li></ul></div><div class="col-sm-12 col-md mt-3 mb-3 text-md-right"><ul class="list-inline my-0"><li class=list-inline-item><h5 class=my-0>Tags:</h5></li><li class=list-inline-item><a href=https://ttntm.github.io/tags/javascript>javascript</a>, <a href=https://ttntm.github.io/tags/post>post</a>, <a href=https://ttntm.github.io/tags/howto>howto</a>, <a href=https://ttntm.github.io/tags/jquery>jquery</a></li></ul></div></div><div class="row mt-3 mb-3"><div class="col-6 mt-3 align-self-left text-left"><a class="btn btn-primary px-3" href=https://ttntm.github.io/blog/site-redesign/><i class="fas fa-angle-double-left fa-xs"></i>&nbsp;&nbsp;Previous Post</a></div><div class="col-6 mt-3 align-self-right text-right"></div></div><div class="row mt-3 mb-5"><div class="col-sm-12 mt-3"><h2>Related Posts</h2></div><div class="col-sm-12 col-md-6 py-3"><h5 class=text-secondary>03.09.2018</h5><h3><a href=https://ttntm.github.io/blog/using-css-variables-internet-explorer/ class=lnk-underline>Using CSS Variables in Internet Explorer</a></h3><p>An article about using CSS variables in Internet Explorer which doesn&#39;t natively support them.</p></div><div class="col-sm-12 col-md-6 py-3"><h5 class=text-secondary>20.09.2018</h5><h3><a href=https://ttntm.github.io/blog/tailwind-responsive-menu/ class=lnk-underline>Building a responsive menu with Tailwind CSS</a></h3><p>This article shows how to build a responsive menu/navigation with Tailwind CSS and also includes a CodePen example.</p></div></div></div></main><footer class="footer small"><div class=container><div class=row><div class="col-sm-12 col-md mt-3 order-2 order-md-1 text-center text-md-left"><p><i class="fas fa-copyright fa-sm text-blue"></i>&nbsp;ttntm 2019, built with <a href=https://gohugo.io rel=noopener target=_blank>Hugo&nbsp;<i class="fas fa-external-link-alt fa-xs"></i></a></p></div><div class="col-sm-12 col-md mt-0 order-1 order-md-2 text-center align-self-center"><ul class="nav justify-content-center text-wide"><li class=nav-item><a class=nav-link href=https://ttntm.github.io>Home</a></li><li class=nav-item><a class=nav-link href=https://ttntm.github.io/blog>Blog</a></li><li class=nav-item><a class=nav-link href=https://ttntm.github.io/about>About</a></li><li class=nav-item><a class=nav-link href=https://ttntm.github.io/contact>Contact</a></li></ul></div><div class="col-sm-12 col-md mt-3 order-3 order-md-3 text-center text-md-right"><ul class=list-inline><li class=list-inline-item><a class="text-blue ml-md-1" href="javascript:linkTo_UnCryptMailto('nbjmup;uuounAqn/nf');" title=Email><i class="fas fa-envelope fa-lg"></i></a></li><li class=list-inline-item><a class="text-blue ml-md-1" href=https://twitter.com/thet0m title=Twitter rel=noopener target=_blank><i class="fab fa-twitter fa-lg"></i></a></li><li class=list-inline-item><a class="text-blue ml-md-1" href=https://github.com/ttntm title=GitHub rel=noopener target=_blank><i class="fab fa-github fa-lg"></i></a></li><li class=list-inline-item><a class="text-blue ml-md-1" href=https://codepen.io/ttntm/ title=CodePen rel=noopener target=_blank><i class="fab fa-codepen fa-lg"></i></a></li><li class=list-inline-item><a class="page-scroll text-blue ml-md-1" href title="Back to Top"><i class="fas fa-arrow-alt-circle-up fa-lg"></i></a></li></ul></div></div></div></footer><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Nunito"><link rel=stylesheet href=https://use.fontawesome.com/releases/v5.1.0/css/all.css integrity=sha384-lKuwvrZot6UHsBSfcMvOkWwlCMgc0TaWr+30HWe3a4ltaBwTZhyTEggF5tJv8tbt crossorigin=anonymous><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js integrity=sha384-tsQFqpEReu7ZLhBV2VZlAu7zcOV+rXbYlF2cqB8txI/8aZajjp4Bqd+V6D5IgvKT crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js integrity=sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49 crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.1.2/js/bootstrap.min.js integrity=sha384-o+RDsa0aLu++PJvFqy8fFScvbHFLtbvScb8AjopnFD+iEQ7wo/CG0xlczd+2O/em crossorigin=anonymous></script><script>$(document).ready(function(){var btn=$('.navbar-toggler');var icon=$('.navbar-toggler-icon');var navParent=$('.navbar');let shadow='shadow-sm'
btn.click(function(){if(navParent.hasClass(shadow)){navParent.removeClass(shadow);}else{navParent.addClass(shadow);}});$('a.page-scroll').each(function(){$(this).click(function(){$('html,body').animate({scrollTop:0},'slow');return false;});});});</script><script>function UnCryptMailto(t){for(var n=0,o="",r=0;r<t.length;r++)8364<=(n=t.charCodeAt(r))&&(n=128),o+=String.fromCharCode(n-1);return o}function linkTo_UnCryptMailto(t){location.href=UnCryptMailto(t)}</script></body></html>